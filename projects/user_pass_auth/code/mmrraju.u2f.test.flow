Flow mmrraju.u2f.test
     Basepath ""
authService = Call io.jans.as.server.service.AuthenticationService#class 
authServiceBean = Call io.jans.service.cdi.util.CdiUtil#bean authService
// Crean an userService instance.
userService = Call io.jans.as.common.service.common.UserService#class 
userServiceBean = Call io.jans.service.cdi.util.CdiUtil#bean userService
authResult = {}
Repeat 2 times max
     creds = RRF "uid.ftlh" authResult
     authResult.success = Call authServiceBean authenticate creds.username creds.password
     // print user name in logs file.
     Log "@trace User name %" creds.username
     When authResult.success is true
          findUser = {}
          // Find the user with userServiceBean instance.
          findUser = Call userServiceBean getUserByAttribute "jansExtUid" creds.username
          // See authenticated user details
          Log "@trace Authenticated user details %" findUser
          // Get user mail
          userMail = Call userServiceBean getCustomAttribute findUser "mail"
          user_mail = userMail.getValue
          Log "@trace User mail %" userMail " and %" user_mail
          Finish creds.username